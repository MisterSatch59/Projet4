<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="096fc085-6727-4cc3-9644-f4e1e285ecb9" activeEnvironment="Default" name="UtilisateurService" resourceRoot="" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" id="6ca80fa8-3a09-44c7-8f6f-c3a80f72c29f" wsaVersion="NONE" name="UtilisateurServiceSOAP" type="wsdl" bindingName="{http://www.example.org/UtilisateurService/}UtilisateurServiceSOAP" soapVersion="1_1" anonymous="optional" definition="file:/D:/eclipse-workspace/Projet4/biblioService/biblioService-webapp/src/main/resources/wsdl/UtilisateurService.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:\D:\eclipse-workspace\Projet4\biblioService\biblioService-webapp\src\main\resources\wsdl\UtilisateurService.wsdl"><con:part><con:url>file:\D:\eclipse-workspace\Projet4\biblioService\biblioService-webapp\src\main\resources\wsdl\UtilisateurService.wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="UtilisateurService" targetNamespace="http://www.example.org/UtilisateurService/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="http://www.example.org/UtilisateurService/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xsd:schema targetNamespace="http://www.example.org/UtilisateurService/" xmlns:Q1="http://www.example.org/types">
      <xsd:import schemaLocation="../beans.xsd" namespace="http://www.example.org/types"/>
      <xsd:element name="creerUtilisateur">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="nom" type="xsd:string" minOccurs="1"/>
            <xsd:element name="prenom" type="xsd:string" minOccurs="1"/>
            <xsd:element name="email" type="xsd:string" minOccurs="1"/>
            <xsd:element name="mdp" type="xsd:string" minOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="creerUtilisateurResponse">
        <xsd:complexType></xsd:complexType>
      </xsd:element>
      <xsd:element name="authentifierUtilisateur">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="email" type="xsd:string" minOccurs="1"/>
            <xsd:element name="mdp" type="xsd:string" minOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="authentifierUtilisateurResponse">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="utilisateur" type="Q1:Utilisateur" minOccurs="1" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="modifierUtilisateur">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="id" type="xsd:int" minOccurs="1"/>
            <xsd:element name="ancienMdp" type="xsd:string" minOccurs="1"/>
            <xsd:element name="nouveauNom" type="xsd:string" minOccurs="0" maxOccurs="1"/>
            <xsd:element name="nnouveauPrenom" type="xsd:string" minOccurs="0" maxOccurs="1"/>
            <xsd:element name="nouveauEmail" type="xsd:string" minOccurs="0" maxOccurs="1"/>
            <xsd:element name="nouveauMdp" type="xsd:string" minOccurs="0" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="modifierUtilisateurResponse">
        <xsd:complexType></xsd:complexType>
      </xsd:element>
      <xsd:element name="supprimerUtilisateur">
        <xsd:complexType>
          <xsd:sequence minOccurs="1">
            <xsd:element name="id" type="xsd:int" minOccurs="1"/>
            <xsd:element name="mdp" type="xsd:string" minOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="supprimerUtilisateurResponse">
        <xsd:complexType></xsd:complexType>
      </xsd:element>
      <xsd:element name="creerUtilisateurParamsFault">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="FaultMessages" type="xsd:string" minOccurs="1" maxOccurs="unbounded"></xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="creerUtilisateurFault">
        <xsd:complexType>
          <xsd:sequence minOccurs="1">
            <xsd:element name="FaultMessage" type="xsd:string" minOccurs="1" maxOccurs="1"></xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="authentifierUtilisateurFault">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="FaultMessage" type="xsd:string" minOccurs="1" maxOccurs="1"></xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="modifierUtilisateurFault">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="FaultMessage" type="xsd:string" minOccurs="1" maxOccurs="1"></xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="supprimerUtilisateurFault">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="FaultMessage" type="xsd:string" minOccurs="1" maxOccurs="1"></xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="modifierUtilisateurParamsFault">
        <xsd:complexType>
          <xsd:sequence minOccurs="1" maxOccurs="1">
            <xsd:element name="FaultMessages" type="xsd:string" minOccurs="1" maxOccurs="unbounded"></xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
    </xsd:schema>
  </wsdl:types>
  <wsdl:message name="creerUtilisateurRequest">
    <wsdl:part element="tns:creerUtilisateur" name="parameters"/>
  </wsdl:message>
  <wsdl:message name="creerUtilisateurResponse">
    <wsdl:part element="tns:creerUtilisateurResponse" name="parameters"/>
  </wsdl:message>
  <wsdl:message name="authentifierUtilisateurRequest">
    <wsdl:part name="parameters" element="tns:authentifierUtilisateur"/>
  </wsdl:message>
  <wsdl:message name="authentifierUtilisateurResponse">
    <wsdl:part name="parameters" element="tns:authentifierUtilisateurResponse"/>
  </wsdl:message>
  <wsdl:message name="modifierUtilisateurRequest">
    <wsdl:part name="parameters" element="tns:modifierUtilisateur"/>
  </wsdl:message>
  <wsdl:message name="modifierUtilisateurResponse">
    <wsdl:part name="parameters" element="tns:modifierUtilisateurResponse"/>
  </wsdl:message>
  <wsdl:message name="supprimerUtilisateurRequest">
    <wsdl:part name="parameters" element="tns:supprimerUtilisateur"/>
  </wsdl:message>
  <wsdl:message name="supprimerUtilisateurResponse">
    <wsdl:part name="parameters" element="tns:supprimerUtilisateurResponse"/>
  </wsdl:message>
  <wsdl:message name="creerUtilisateurFault">
    <wsdl:part name="parameters" element="tns:creerUtilisateurParamsFault"/>
  </wsdl:message>
  <wsdl:message name="creerUtilisateurFault1">
    <wsdl:part name="parameters" element="tns:creerUtilisateurFault"/>
  </wsdl:message>
  <wsdl:message name="authentifierUtilisateurFault">
    <wsdl:part name="parameters" element="tns:authentifierUtilisateurFault"/>
  </wsdl:message>
  <wsdl:message name="modifierUtilisateurFault">
    <wsdl:part name="parameters" element="tns:modifierUtilisateurFault"/>
  </wsdl:message>
  <wsdl:message name="supprimerUtilisateurFault">
    <wsdl:part name="parameters" element="tns:supprimerUtilisateurFault"/>
  </wsdl:message>
  <wsdl:message name="modifierUtilisateurFault1">
    <wsdl:part name="parameters" element="tns:modifierUtilisateurParamsFault"/>
  </wsdl:message>
  <wsdl:portType name="UtilisateurService">
    <wsdl:operation name="creerUtilisateur">
      <wsdl:input message="tns:creerUtilisateurRequest"/>
      <wsdl:output message="tns:creerUtilisateurResponse"/>
      <wsdl:fault name="fault" message="tns:creerUtilisateurFault"/>
      <wsdl:fault name="fault1" message="tns:creerUtilisateurFault1"/>
    </wsdl:operation>
    <wsdl:operation name="authentifierUtilisateur">
      <wsdl:input message="tns:authentifierUtilisateurRequest"/>
      <wsdl:output message="tns:authentifierUtilisateurResponse"/>
      <wsdl:fault name="fault" message="tns:authentifierUtilisateurFault"/>
    </wsdl:operation>
    <wsdl:operation name="modifierUtilisateur">
      <wsdl:input message="tns:modifierUtilisateurRequest"/>
      <wsdl:output message="tns:modifierUtilisateurResponse"/>
      <wsdl:fault name="fault" message="tns:modifierUtilisateurFault"/>
      <wsdl:fault name="fault1" message="tns:modifierUtilisateurFault1"/>
    </wsdl:operation>
    <wsdl:operation name="supprimerUtilisateur">
      <wsdl:input message="tns:supprimerUtilisateurRequest"/>
      <wsdl:output message="tns:supprimerUtilisateurResponse"/>
      <wsdl:fault name="fault" message="tns:supprimerUtilisateurFault"/>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="UtilisateurServiceSOAP" type="tns:UtilisateurService">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="creerUtilisateur">
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault use="literal" name="fault"/>
      </wsdl:fault>
      <wsdl:fault name="fault1">
        <soap:fault use="literal" name="fault1"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="authentifierUtilisateur">
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault use="literal" name="fault"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="modifierUtilisateur">
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault use="literal" name="fault"/>
      </wsdl:fault>
      <wsdl:fault name="fault1">
        <soap:fault use="literal" name="fault1"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="supprimerUtilisateur">
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault use="literal" name="fault"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="UtilisateurService">
    <wsdl:port binding="tns:UtilisateurServiceSOAP" name="UtilisateurServiceSOAP">
      <soap:address location="http://localhost:8080/biblioService/services/utilisateur"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>file:\D:\eclipse-workspace\Projet4\biblioService\biblioService-webapp\src\main\resources\beans.xsd</con:url><con:content><![CDATA[<schema targetNamespace="http://www.example.org/types" elementFormDefault="qualified" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://www.example.org/types">
  <complexType name="Livre">
    <sequence>
      <element name="isbn" type="string" minOccurs="1"/>
      <element name="titre" type="string" minOccurs="1"/>
      <element name="editeur" type="tns:Editeur" minOccurs="1" maxOccurs="1"></element>
      <element name="datePublication" type="date" minOccurs="1"/>
      <element name="description" type="tns:Description" minOccurs="1" maxOccurs="1"></element>
      <element name="langue" type="string" minOccurs="1"/>
      <element name="auteur" type="tns:Auteur" minOccurs="1" maxOccurs="unbounded"></element>
      <element name="genre" type="string" minOccurs="1" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <complexType name="Editeur">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="nom" type="string" minOccurs="1"/>
    </sequence>
  </complexType>
  <complexType name="Description">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="titre" type="string" minOccurs="1"/>
      <element name="paragraphes" type="string" minOccurs="1" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <complexType name="Auteur">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="nom" type="string" minOccurs="1"/>
      <element name="prenom" type="string" minOccurs="0" maxOccurs="1"/>
    </sequence>
  </complexType>
  <complexType name="Exemplaire">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="livre" type="tns:Livre" minOccurs="1"/>
      <element name="bibliotheque" type="string" minOccurs="1" maxOccurs="1"/>
    </sequence>
  </complexType>
  <complexType name="UtilisateurBD">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="email" type="string" minOccurs="1"/>
      <element name="nom" type="string" minOccurs="1"/>
      <element name="prenom" type="string" minOccurs="0" maxOccurs="1"></element>
      <element name="mdp" type="string" minOccurs="1" maxOccurs="1"></element>
      <element name="sel" type="string" minOccurs="1"/>
    </sequence>
  </complexType>
  <complexType name="Utilisateur">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="email" type="string" minOccurs="1"/>
      <element name="nom" type="string" minOccurs="1"/>
      <element name="prenom" type="string" minOccurs="0" maxOccurs="1"/>
    </sequence>
  </complexType>
  <complexType name="Pret">
    <sequence>
      <element name="id" type="int" minOccurs="1"/>
      <element name="dateDebut" type="date" minOccurs="1"/>
      <element name="dateFin" type="date" minOccurs="0" maxOccurs="1"/>
      <element name="renouvele" type="boolean" minOccurs="1"/>
      <element name="utilisateur" type="tns:Utilisateur" minOccurs="1" maxOccurs="1"/>
      <element name="exemplaire" type="tns:Exemplaire" minOccurs="1"/>
    </sequence>
  </complexType>
</schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint></con:endpoints><con:operation id="1078a5e3-b7f7-4a96-84e4-cf70127e90fc" isOneWay="false" action="" name="authentifierUtilisateur" bindingOperationName="authentifierUtilisateur" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="53a74562-d7a8-495b-b401-5236f6bab788" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:authentifierUtilisateur>\r
         <email>titi@tata.com</email>\r
         <mdp>azerty123*</mdp>\r
      </util:authentifierUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/authentifierUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="acfaf2cc-f074-4730-9b57-f1e54eebcf1a" isOneWay="false" action="" name="creerUtilisateur" bindingOperationName="creerUtilisateur" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="497bb62d-7ef3-4c36-9886-d4dd74d525ae" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:creerUtilisateur>\r
         <nom>?</nom>\r
         <prenom>?</prenom>\r
         <email>?</email>\r
         <mdp>?</mdp>\r
      </util:creerUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/creerUtilisateurRequest"/></con:call></con:operation><con:operation id="29204f23-0103-47bd-92ec-f8a96a99bb7c" isOneWay="false" action="" name="modifierUtilisateur" bindingOperationName="modifierUtilisateur" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e005c11e-3d45-45d2-9b19-a40aafc9755f" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:modifierUtilisateur>\r
         <id>?</id>\r
         <ancienMdp>?</ancienMdp>\r
         <!--Optional:-->\r
         <nouveauNom>?</nouveauNom>\r
         <!--Optional:-->\r
         <nnouveauPrenom>?</nnouveauPrenom>\r
         <!--Optional:-->\r
         <nouveauEmail>?</nouveauEmail>\r
         <!--Optional:-->\r
         <nouveauMdp>?</nouveauMdp>\r
      </util:modifierUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/modifierUtilisateurRequest"/></con:call></con:operation><con:operation id="f1e948ca-a1af-425f-bf6f-782bf658ac23" isOneWay="false" action="" name="supprimerUtilisateur" bindingOperationName="supprimerUtilisateur" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ca8eef58-3b1e-49c1-a59b-e27b3d6a6635" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:supprimerUtilisateur>\r
         <id>?</id>\r
         <mdp>?</mdp>\r
      </util:supprimerUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/supprimerUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:testSuite id="9795e4ac-0288-4cea-8780-5c6d2a9d3f30" name="TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="2ae6bb1b-5e06-482e-bf75-f307acd45f2a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="e7d174a5-fbd8-44d8-ae02-17ce79241b52"><con:settings/><con:config><script>import org.apache.commons.lang.RandomStringUtils;
import java.util.concurrent.ThreadLocalRandom;

//nom et prénom aléatoire
int longueurNom = 1 + (int)(Math.random() * 100);//1 à 100
int longueurPrenom =  (int)(Math.random() * 101);//0 à 100

String lettre = (('a'..'z') + ('A'..'Z')+ (' ')).join();

String nomAleatoire = RandomStringUtils.random(longueurNom, lettre.toCharArray());
String prenomAleatoire = RandomStringUtils.random(longueurPrenom, lettre.toCharArray());
testRunner.testCase.setPropertyValue( "nom", nomAleatoire);
testRunner.testCase.setPropertyValue( "prenom", prenomAleatoire);

nomAleatoire = RandomStringUtils.random(longueurNom, lettre.toCharArray());
prenomAleatoire = RandomStringUtils.random(longueurPrenom, lettre.toCharArray());
testRunner.testCase.setPropertyValue( "nouveauNom", nomAleatoire);
testRunner.testCase.setPropertyValue( "nouveauPrenom", prenomAleatoire);

//email alèatoire
String nombre = (('0'..'9')).join();
String lettreMin = (('a'..'z')).join();
String caracEmail = lettreMin + nombre;

int longueurEmail = 1 + (int)(Math.random() * 45);//1 à 45

String emailAleatoire = RandomStringUtils.random(longueurEmail, caracEmail.toCharArray())+ "@" + RandomStringUtils.random(longueurEmail, caracEmail.toCharArray()) + "." + RandomStringUtils.random(3, lettreMin.toCharArray());
testRunner.testCase.setPropertyValue( "email", emailAleatoire);
emailAleatoire = RandomStringUtils.random(longueurEmail, caracEmail.toCharArray())+ "@" + RandomStringUtils.random(longueurEmail, caracEmail.toCharArray()) + "." + RandomStringUtils.random(3, lettreMin.toCharArray());
testRunner.testCase.setPropertyValue( "NouveauEmail", emailAleatoire);

//Mdp aléatoire
String caractereSpeciaux = "+-*/.µ£@^#~²?,;:§!";
String caracMdp = (lettre + nombre + caractereSpeciaux);

int longueurMdp = 8 + (int)(Math.random() * 90);//8 à 97

String mdpAleatoire = RandomStringUtils.random(longueurMdp, caracMdp.toCharArray()) +"a1*"; //L'ajout a1* permet de toujours avoir au moins 1 caractère spécial, une lettre et un chiffre
testRunner.testCase.setPropertyValue( "mdp", mdpAleatoire);
mdpAleatoire = RandomStringUtils.random(longueurMdp, caracMdp.toCharArray())+"a1*"; //L'ajout a1* permet de toujours avoir au moins 1 caractère spécial, une lettre et un chiffre
testRunner.testCase.setPropertyValue( "NouveauMdp", mdpAleatoire);
</script></con:config></con:testStep><con:testStep type="request" id="3b857005-771b-496b-9ee3-a964747fbe8c" name="creerUtilisateur - Request 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>UtilisateurServiceSOAP</con:interface><con:operation>creerUtilisateur</con:operation><con:request name="creerUtilisateur - Request 1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7793db59-df9c-49cf-a10d-1409421a406e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:creerUtilisateur>\r
         <nom>${#TestCase#nom}</nom>\r
         <prenom>${#TestCase#prenom}</prenom>\r
         <email>${#TestCase#email}</email>\r
         <mdp>${#TestCase#mdp}</mdp>\r
      </util:creerUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="eb8b68ac-b13c-400e-94b2-71d755977312" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="d668a870-fa66-436f-acbf-f8b42adf7c7e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/creerUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="e5dbb5d0-9f33-460d-8b0b-500a66f18a66" name="authentifierUtilisateur - Request 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>UtilisateurServiceSOAP</con:interface><con:operation>authentifierUtilisateur</con:operation><con:request name="authentifierUtilisateur - Request 1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="b425e22a-480d-449a-9b23-47d45e598f66"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:authentifierUtilisateur>\r
         <email>${#TestCase#email}</email>\r
         <mdp>${#TestCase#mdp}</mdp>\r
      </util:authentifierUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="c18494bc-49ce-4e24-829d-48ef28c90b17" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4520484f-be60-4264-a38f-86b702b50e95" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/authentifierUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="a37f879b-2622-4e17-8c5c-5ddc77c95f98"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>TransfertId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>authentifierUtilisateur - Request 1</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://www.example.org/UtilisateurService/';
declare namespace ns2='http://www.example.org/types';

/soap:Envelope/soap:Body/ns1:authentifierUtilisateurResponse/utilisateur/id/text()</con:sourcePath><con:targetType>id</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="9466cdf1-a51f-427d-b881-dd91fb3890ba" name="modifierUtilisateur - Request 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>UtilisateurServiceSOAP</con:interface><con:operation>modifierUtilisateur</con:operation><con:request name="modifierUtilisateur - Request 1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="cf4d0e2d-8b72-45ba-9340-32d765d40b0a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:modifierUtilisateur>\r
         <id>${#TestCase#id}</id>\r
         <ancienMdp>${#TestCase#mdp}</ancienMdp>\r
         <!--Optional:-->\r
         <nouveauNom>${#TestCase#nouveauNom}</nouveauNom>\r
         <!--Optional:-->\r
         <nnouveauPrenom>${#TestCase#prenom}</nnouveauPrenom>\r
         <!--Optional:-->\r
         <nouveauEmail>${#TestCase#nouveauEmail}</nouveauEmail>\r
         <!--Optional:-->\r
         <nouveauMdp>${#TestCase#nouveauMdp}</nouveauMdp>\r
      </util:modifierUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e958762f-974d-4905-8ed0-914be5c04a70" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="71e08565-cf6f-4ec9-9dc4-2c5123bfd1b2" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/modifierUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="705e5e02-c230-4f22-b935-ad442e560bec" name="authentifierUtilisateur - Request 2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>UtilisateurServiceSOAP</con:interface><con:operation>authentifierUtilisateur</con:operation><con:request name="authentifierUtilisateur - Request 2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="94c0ab5a-e262-4ce1-9de6-c3b10743e993"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:authentifierUtilisateur>\r
         <email>${#TestCase#nouveauEmail}</email>\r
         <mdp>${#TestCase#nouveauMdp}</mdp>\r
      </util:authentifierUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="0b58c722-166b-4ec9-a596-6bdc648ef71e" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="42138cd2-a1f2-4355-aea4-fd95c050d81f" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/authentifierUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="510fef63-774c-4722-a9e9-d73ae0cbd9b3" name="supprimerUtilisateur - Request 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>UtilisateurServiceSOAP</con:interface><con:operation>supprimerUtilisateur</con:operation><con:request name="supprimerUtilisateur - Request 1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="418d1c7f-8002-499a-9995-bde88fceca7a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/biblioService/services/utilisateur</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:util="http://www.example.org/UtilisateurService/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <util:supprimerUtilisateur>\r
         <id>${#TestCase#id}</id>\r
         <mdp>${#TestCase#nouveauMdp}</mdp>\r
      </util:supprimerUtilisateur>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="2fcbe818-08ca-4e9c-9595-8466ee37ada1" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="67d4df98-1cfb-4e41-b709-f2408c2b7ff4" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.example.org/UtilisateurService/UtilisateurService/supprimerUtilisateurRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>id</con:name><con:value>26</con:value></con:property><con:property><con:name>nom</con:name><con:value>ljJlHqASUVOtHYFIdTptZRLbqfiDHXiadbgpOkjmuOdPAzQKKtRgHqTmhrnguqDoAwFRHQiMhkFLCqLBBIOKoeFXeBuiGadAg</con:value></con:property><con:property><con:name>prenom</con:name><con:value>gvKYT MJpIElhotImcJy</con:value></con:property><con:property><con:name>email</con:name><con:value>9yh6m1zaypdk@gcv4duutie33.ezj</con:value></con:property><con:property><con:name>mdp</con:name><con:value>snrJLWUeuWaz!ZFNpX+mCw2k@d^5BR?x~Jcg4h4-n§:5²eThsu.2.a1*</con:value></con:property><con:property><con:name>nouveauNom</con:name><con:value>cCDNgygnsJPOAIlmeeHZXqlBGHpGLMEFvEpRPzAeySjNkdMBQIGmlqKVEiwdbYifOxlHOteKekvtaqJMuBuKFzIyJrGQhCAPL</con:value></con:property><con:property><con:name>nouveauPrenom</con:name><con:value>rSxMQWkYfcoQOu NIGQN</con:value></con:property><con:property><con:name>nouveauEmail</con:name><con:value>z7ax5uet2mx8@qnnppi5ycd34.skn</con:value></con:property><con:property><con:name>nouveauMdp</con:name><con:value>!:lyzDx!Sw8K§Yq^£FC4dp5rL8FzH@j^BKGuv?uF3wNj-8tva§ mTa1*</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>id</con:name><con:value>0</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>